{"sha":"f14c90c2220fffc51bc6e6e89bac6f9e726ff505","node_id":"MDY6Q29tbWl0NTI5ODc5MDpmMTRjOTBjMjIyMGZmZmM1MWJjNmU2ZTg5YmFjNmY5ZTcyNmZmNTA1","commit":{"author":{"name":"Julian Oes","email":"joes@student.ethz.ch","date":"2013-01-22T01:42:08Z"},"committer":{"name":"Julian Oes","email":"joes@student.ethz.ch","date":"2013-01-22T01:42:08Z"},"message":"Some timeout needed to be raised for now to make ubx with baudrate 9600 working","tree":{"sha":"28b4dfdc0d7aa874a455973df82b68c67ac12f0c","url":"https://api.github.com/repos/PX4/PX4-Autopilot/git/trees/28b4dfdc0d7aa874a455973df82b68c67ac12f0c"},"url":"https://api.github.com/repos/PX4/PX4-Autopilot/git/commits/f14c90c2220fffc51bc6e6e89bac6f9e726ff505","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/f14c90c2220fffc51bc6e6e89bac6f9e726ff505","html_url":"https://github.com/PX4/PX4-Autopilot/commit/f14c90c2220fffc51bc6e6e89bac6f9e726ff505","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/f14c90c2220fffc51bc6e6e89bac6f9e726ff505/comments","author":null,"committer":null,"parents":[{"sha":"48e497e4069a2f8773d90f2d1887967a81e487d8","url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/48e497e4069a2f8773d90f2d1887967a81e487d8","html_url":"https://github.com/PX4/PX4-Autopilot/commit/48e497e4069a2f8773d90f2d1887967a81e487d8"}],"stats":{"total":9,"additions":6,"deletions":3},"files":[{"sha":"b9f8a28a07b3a69f26f99cdef757df46da97b237","filename":"apps/gps/ubx.c","status":"modified","additions":4,"deletions":1,"changes":5,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/f14c90c2220fffc51bc6e6e89bac6f9e726ff505/apps%2Fgps%2Fubx.c","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/f14c90c2220fffc51bc6e6e89bac6f9e726ff505/apps%2Fgps%2Fubx.c","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/apps%2Fgps%2Fubx.c?ref=f14c90c2220fffc51bc6e6e89bac6f9e726ff505","patch":"@@ -880,6 +880,7 @@ void *ubx_watchdog_loop(void *args)\n \tint *fd = arguments->fd_ptr;\n \tbool *thread_should_exit = arguments->thread_should_exit_ptr;\n \n+\tubx_config_state = UBX_CONFIG_STATE_PRT;\n \t/* first try to configure the GPS anyway */\n \tconfigure_gps_ubx(fd);\n \n@@ -892,7 +893,7 @@ void *ubx_watchdog_loop(void *args)\n \tbool once_ok = false;\n \n \tint mavlink_fd = open(MAVLINK_LOG_DEVICE, 0);\n-\tubx_config_state = UBX_CONFIG_STATE_PRT;\n+\n \t//int err_skip_counter = 0;\n \n \twhile (!(*thread_should_exit)) {\n@@ -940,7 +941,9 @@ void *ubx_watchdog_loop(void *args)\n \t\t\t\tubx_healthy = false;\n \t\t\t\tubx_success_count = 0;\n \t\t\t}\n+\n \t\t\t/* trying to reconfigure the gps configuration */\n+\t\t\tubx_config_state = UBX_CONFIG_STATE_PRT;\n \t\t\tconfigure_gps_ubx(fd);\n \t\t\tfflush(stdout);\n \t\t\tsleep(1);"},{"sha":"f3313a3c6dbb7714da82ca94095fcb196014af1a","filename":"apps/gps/ubx.h","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/f14c90c2220fffc51bc6e6e89bac6f9e726ff505/apps%2Fgps%2Fubx.h","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/f14c90c2220fffc51bc6e6e89bac6f9e726ff505/apps%2Fgps%2Fubx.h","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/apps%2Fgps%2Fubx.h?ref=f14c90c2220fffc51bc6e6e89bac6f9e726ff505","patch":"@@ -51,9 +51,9 @@\n //internal definitions (not depending on the ubx protocol\n #define UBX_NO_OF_MESSAGES 7\t\t\t\t\t\t\t\t/**< Read 7 UBX GPS messages */\n #define UBX_WATCHDOG_CRITICAL_TIME_MICROSECONDS 3000000\t\t/**< Allow 3 seconds maximum inter-message time */\n-#define UBX_WATCHDOG_WAIT_TIME_MICROSECONDS 1000000\t\t\t/**< Check for current state every second */\n+#define UBX_WATCHDOG_WAIT_TIME_MICROSECONDS 2000000\t\t\t/**< Check for current state every two seconds */\n \n-#define UBX_CONFIG_TIMEOUT 500000\n+#define UBX_CONFIG_TIMEOUT 1000000\n \n #define APPNAME \"gps: ubx\"\n "}]}