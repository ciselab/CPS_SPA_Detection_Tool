{"sha":"4ed3ecea415dfad230fbc42a6ed84561c985598e","node_id":"MDY6Q29tbWl0NTI5ODc5MDo0ZWQzZWNlYTQxNWRmYWQyMzBmYmM0MmE2ZWQ4NDU2MWM5ODU1OThl","commit":{"author":{"name":"Silvan Fuhrer","email":"silvan@auterion.com","date":"2020-10-14T15:05:32Z"},"committer":{"name":"Beat KÃ¼ng","email":"beat-kueng@gmx.net","date":"2020-10-15T07:55:40Z"},"message":"lis2mdl: reduce update rate from 50Hz to 20Hz to reduce spikes\n\nSigned-off-by: Silvan Fuhrer <silvan@auterion.com>","tree":{"sha":"62ce1eb379eb62cbd64a8785465546ddccb9d032","url":"https://api.github.com/repos/PX4/PX4-Autopilot/git/trees/62ce1eb379eb62cbd64a8785465546ddccb9d032"},"url":"https://api.github.com/repos/PX4/PX4-Autopilot/git/commits/4ed3ecea415dfad230fbc42a6ed84561c985598e","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/4ed3ecea415dfad230fbc42a6ed84561c985598e","html_url":"https://github.com/PX4/PX4-Autopilot/commit/4ed3ecea415dfad230fbc42a6ed84561c985598e","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/4ed3ecea415dfad230fbc42a6ed84561c985598e/comments","author":{"login":"sfuhrer","id":26798987,"node_id":"MDQ6VXNlcjI2Nzk4OTg3","avatar_url":"https://avatars.githubusercontent.com/u/26798987?v=4","gravatar_id":"","url":"https://api.github.com/users/sfuhrer","html_url":"https://github.com/sfuhrer","followers_url":"https://api.github.com/users/sfuhrer/followers","following_url":"https://api.github.com/users/sfuhrer/following{/other_user}","gists_url":"https://api.github.com/users/sfuhrer/gists{/gist_id}","starred_url":"https://api.github.com/users/sfuhrer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sfuhrer/subscriptions","organizations_url":"https://api.github.com/users/sfuhrer/orgs","repos_url":"https://api.github.com/users/sfuhrer/repos","events_url":"https://api.github.com/users/sfuhrer/events{/privacy}","received_events_url":"https://api.github.com/users/sfuhrer/received_events","type":"User","site_admin":false},"committer":{"login":"bkueng","id":281593,"node_id":"MDQ6VXNlcjI4MTU5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/281593?v=4","gravatar_id":"","url":"https://api.github.com/users/bkueng","html_url":"https://github.com/bkueng","followers_url":"https://api.github.com/users/bkueng/followers","following_url":"https://api.github.com/users/bkueng/following{/other_user}","gists_url":"https://api.github.com/users/bkueng/gists{/gist_id}","starred_url":"https://api.github.com/users/bkueng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bkueng/subscriptions","organizations_url":"https://api.github.com/users/bkueng/orgs","repos_url":"https://api.github.com/users/bkueng/repos","events_url":"https://api.github.com/users/bkueng/events{/privacy}","received_events_url":"https://api.github.com/users/bkueng/received_events","type":"User","site_admin":false},"parents":[{"sha":"d985887468435fd28ed5d07d82149a8ea417c88c","url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/d985887468435fd28ed5d07d82149a8ea417c88c","html_url":"https://github.com/PX4/PX4-Autopilot/commit/d985887468435fd28ed5d07d82149a8ea417c88c"}],"stats":{"total":6,"additions":3,"deletions":3},"files":[{"sha":"fda1cb9c9425daeb829806b33bba421952f5e9c6","filename":"src/drivers/magnetometer/lis2mdl/lis2mdl.h","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/4ed3ecea415dfad230fbc42a6ed84561c985598e/src%2Fdrivers%2Fmagnetometer%2Flis2mdl%2Flis2mdl.h","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/4ed3ecea415dfad230fbc42a6ed84561c985598e/src%2Fdrivers%2Fmagnetometer%2Flis2mdl%2Flis2mdl.h","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/src%2Fdrivers%2Fmagnetometer%2Flis2mdl%2Flis2mdl.h?ref=4ed3ecea415dfad230fbc42a6ed84561c985598e","patch":"@@ -50,8 +50,8 @@\n  * LIS2MDL internal constants and data structures.\n  */\n \n-/* Max measurement rate is 50Hz */\n-#define LIS2MDL_CONVERSION_INTERVAL     (1000000 / 50)\n+/* Max measurement rate is 20Hz */\n+#define LIS2MDL_CONVERSION_INTERVAL     (1000000 / 20)\n \n #define ADDR_WHO_AM_I                   0x4f\n #define ID_WHO_AM_I                     0x40\n@@ -72,7 +72,7 @@\n #define ADDR_OUT_T_H                    0x6f\n \n #define CFG_REG_A_TEMP_COMP_EN          (1 << 7)\n-#define CFG_REG_A_ODR                   (2 << 2) /* 50Hz (100Hz creates spikes randomly) */\n+#define CFG_REG_A_ODR                   (1 << 2) /* 20Hz (100Hz or 50Hz creates spikes randomly) */\n #define CFG_REG_A_MD                    (0 << 0) /* continuous mode */\n \n #define CFG_REG_B_LPF                   (1 << 0) /* LPF */"}]}