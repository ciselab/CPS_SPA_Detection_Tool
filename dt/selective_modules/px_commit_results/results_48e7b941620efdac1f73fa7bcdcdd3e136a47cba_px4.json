{"sha":"48e7b941620efdac1f73fa7bcdcdd3e136a47cba","node_id":"MDY6Q29tbWl0NTI5ODc5MDo0OGU3Yjk0MTYyMGVmZGFjMWY3M2ZhN2JjZGNkZDNlMTM2YTQ3Y2Jh","commit":{"author":{"name":"Kabir Mohammed","email":"mhkabir98@gmail.com","date":"2017-01-08T18:25:55Z"},"committer":{"name":"Lorenz Meier","email":"lorenz@px4.io","date":"2017-02-15T20:48:33Z"},"message":"mavlink : track time offset faster","tree":{"sha":"b9ea260b64def4d2f9a34b8af893819cccb51794","url":"https://api.github.com/repos/PX4/PX4-Autopilot/git/trees/b9ea260b64def4d2f9a34b8af893819cccb51794"},"url":"https://api.github.com/repos/PX4/PX4-Autopilot/git/commits/48e7b941620efdac1f73fa7bcdcdd3e136a47cba","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/48e7b941620efdac1f73fa7bcdcdd3e136a47cba","html_url":"https://github.com/PX4/PX4-Autopilot/commit/48e7b941620efdac1f73fa7bcdcdd3e136a47cba","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/48e7b941620efdac1f73fa7bcdcdd3e136a47cba/comments","author":{"login":"mhkabir","id":5557676,"node_id":"MDQ6VXNlcjU1NTc2NzY=","avatar_url":"https://avatars.githubusercontent.com/u/5557676?v=4","gravatar_id":"","url":"https://api.github.com/users/mhkabir","html_url":"https://github.com/mhkabir","followers_url":"https://api.github.com/users/mhkabir/followers","following_url":"https://api.github.com/users/mhkabir/following{/other_user}","gists_url":"https://api.github.com/users/mhkabir/gists{/gist_id}","starred_url":"https://api.github.com/users/mhkabir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhkabir/subscriptions","organizations_url":"https://api.github.com/users/mhkabir/orgs","repos_url":"https://api.github.com/users/mhkabir/repos","events_url":"https://api.github.com/users/mhkabir/events{/privacy}","received_events_url":"https://api.github.com/users/mhkabir/received_events","type":"User","site_admin":false},"committer":{"login":"LorenzMeier","id":1208119,"node_id":"MDQ6VXNlcjEyMDgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/1208119?v=4","gravatar_id":"","url":"https://api.github.com/users/LorenzMeier","html_url":"https://github.com/LorenzMeier","followers_url":"https://api.github.com/users/LorenzMeier/followers","following_url":"https://api.github.com/users/LorenzMeier/following{/other_user}","gists_url":"https://api.github.com/users/LorenzMeier/gists{/gist_id}","starred_url":"https://api.github.com/users/LorenzMeier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LorenzMeier/subscriptions","organizations_url":"https://api.github.com/users/LorenzMeier/orgs","repos_url":"https://api.github.com/users/LorenzMeier/repos","events_url":"https://api.github.com/users/LorenzMeier/events{/privacy}","received_events_url":"https://api.github.com/users/LorenzMeier/received_events","type":"User","site_admin":false},"parents":[{"sha":"d831c262d089d0192fcbfa5f524745593e40131f","url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/d831c262d089d0192fcbfa5f524745593e40131f","html_url":"https://github.com/PX4/PX4-Autopilot/commit/d831c262d089d0192fcbfa5f524745593e40131f"}],"stats":{"total":7,"additions":3,"deletions":4},"files":[{"sha":"73d3696008f1fbab53f8928a0afaa333f7848827","filename":"src/modules/mavlink/mavlink_receiver.cpp","status":"modified","additions":3,"deletions":4,"changes":7,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/48e7b941620efdac1f73fa7bcdcdd3e136a47cba/src%2Fmodules%2Fmavlink%2Fmavlink_receiver.cpp","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/48e7b941620efdac1f73fa7bcdcdd3e136a47cba/src%2Fmodules%2Fmavlink%2Fmavlink_receiver.cpp","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/src%2Fmodules%2Fmavlink%2Fmavlink_receiver.cpp?ref=48e7b941620efdac1f73fa7bcdcdd3e136a47cba","patch":"@@ -146,7 +146,7 @@ MavlinkReceiver::MavlinkReceiver(Mavlink *parent) :\n \t_offboard_control_mode{},\n \t_att_sp{},\n \t_rates_sp{},\n-\t_time_offset_avg_alpha(0.6),\n+\t_time_offset_avg_alpha(0.8),\n \t_time_offset(0),\n \t_orb_class_instance(-1),\n \t_mom_switch_pos{},\n@@ -2503,9 +2503,8 @@ uint64_t MavlinkReceiver::sync_stamp(uint64_t usec)\n \n void MavlinkReceiver::smooth_time_offset(int64_t offset_ns)\n {\n-\t/* alpha = 0.6 fixed for now. The closer alpha is to 1.0,\n-\t * the faster the moving average updates in response to\n-\t * new offset samples.\n+\t/* The closer alpha is to 1.0, the faster the moving\n+\t * average updates in response to new offset samples.\n \t */\n \n \t_time_offset = (_time_offset_avg_alpha * offset_ns) + (1.0 - _time_offset_avg_alpha) * _time_offset;"}]}