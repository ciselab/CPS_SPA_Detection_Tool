{"sha":"6eff7deb7edc5419bdeef3ddf2ce26fdc02a6960","node_id":"MDY6Q29tbWl0NTI5ODc5MDo2ZWZmN2RlYjdlZGM1NDE5YmRlZWYzZGRmMmNlMjZmZGMwMmE2OTYw","commit":{"author":{"name":"David Sidrane","email":"david_s5@nscdg.com","date":"2017-06-29T12:58:22Z"},"committer":{"name":"Lorenz Meier","email":"lorenz@px4.io","date":"2017-07-08T08:51:43Z"},"message":"Extend the delay ensure post reset pulse delayed.\n\nGiven the original poster's comment that \"It happens very consistently for us.\" I suspect the motor spin observed in https://github.com/PX4/Firmware/issues/7457 is not caused by the original issue of slow decay on the PWM pins at reset, but the post reset pulse of 3.1 Ms arriving in a window that the ESC considers it valid.\r\n\r\nThe results from testing, indicated that the if the PWM pins were clamped low for > 300 Ms, prior to reset the motors did not spin. This would delay the the post reset pulse of 3.1 Ms out by > 300 Ms. \r\n\r\nThis change delays the reset and therefore the pulse by at least 400 Ms.","tree":{"sha":"4fd09a51374e1db98a7cb39a4395485fd858d60d","url":"https://api.github.com/repos/PX4/PX4-Autopilot/git/trees/4fd09a51374e1db98a7cb39a4395485fd858d60d"},"url":"https://api.github.com/repos/PX4/PX4-Autopilot/git/commits/6eff7deb7edc5419bdeef3ddf2ce26fdc02a6960","comment_count":1,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/6eff7deb7edc5419bdeef3ddf2ce26fdc02a6960","html_url":"https://github.com/PX4/PX4-Autopilot/commit/6eff7deb7edc5419bdeef3ddf2ce26fdc02a6960","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/6eff7deb7edc5419bdeef3ddf2ce26fdc02a6960/comments","author":null,"committer":{"login":"LorenzMeier","id":1208119,"node_id":"MDQ6VXNlcjEyMDgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/1208119?v=4","gravatar_id":"","url":"https://api.github.com/users/LorenzMeier","html_url":"https://github.com/LorenzMeier","followers_url":"https://api.github.com/users/LorenzMeier/followers","following_url":"https://api.github.com/users/LorenzMeier/following{/other_user}","gists_url":"https://api.github.com/users/LorenzMeier/gists{/gist_id}","starred_url":"https://api.github.com/users/LorenzMeier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LorenzMeier/subscriptions","organizations_url":"https://api.github.com/users/LorenzMeier/orgs","repos_url":"https://api.github.com/users/LorenzMeier/repos","events_url":"https://api.github.com/users/LorenzMeier/events{/privacy}","received_events_url":"https://api.github.com/users/LorenzMeier/received_events","type":"User","site_admin":false},"parents":[{"sha":"65d8b5c9cd107900d69a560979022507ae5cc2ea","url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/65d8b5c9cd107900d69a560979022507ae5cc2ea","html_url":"https://github.com/PX4/PX4-Autopilot/commit/65d8b5c9cd107900d69a560979022507ae5cc2ea"}],"stats":{"total":2,"additions":1,"deletions":1},"files":[{"sha":"0cd1007bd5b23d63143f6db988079ea8e8a6a4e7","filename":"src/drivers/boards/px4fmu-v4/px4fmu_init.c","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/6eff7deb7edc5419bdeef3ddf2ce26fdc02a6960/src%2Fdrivers%2Fboards%2Fpx4fmu-v4%2Fpx4fmu_init.c","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/6eff7deb7edc5419bdeef3ddf2ce26fdc02a6960/src%2Fdrivers%2Fboards%2Fpx4fmu-v4%2Fpx4fmu_init.c","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/src%2Fdrivers%2Fboards%2Fpx4fmu-v4%2Fpx4fmu_init.c?ref=6eff7deb7edc5419bdeef3ddf2ce26fdc02a6960","patch":"@@ -179,7 +179,7 @@ __EXPORT void board_on_reset(int status)\n \t */\n \n \tif (status >= 0) {\n-\t\tup_mdelay(6);\n+\t\tup_mdelay(400);\n \t}\n }\n "}]}