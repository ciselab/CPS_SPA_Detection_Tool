{"sha":"66eacd24bc8ba26f6d22a4596c16040e841d5dc3","node_id":"MDY6Q29tbWl0NTI5ODc5MDo2NmVhY2QyNGJjOGJhMjZmNmQyMmE0NTk2YzE2MDQwZTg0MWQ1ZGMz","commit":{"author":{"name":"Daniel Agar","email":"daniel@agar.ca","date":"2020-04-12T01:16:10Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2020-04-12T01:16:10Z"},"message":"px4_fmu-v5_stackcheck: update stack sizes and add to Jenkins\n\n - increase stack sizes to run cleanly under stackcheck\r\n     - this is likely overkill for most boards, but using stackcheck to set our minimum ensures we have a very safe margin on regular builds and it's something we can currently afford\r\n - remove holybro_durandal-v1_stackcheck from test rack (there's only one unit)","tree":{"sha":"eb5e7c08901a355a91bf0aa01297347695860112","url":"https://api.github.com/repos/PX4/PX4-Autopilot/git/trees/eb5e7c08901a355a91bf0aa01297347695860112"},"url":"https://api.github.com/repos/PX4/PX4-Autopilot/git/commits/66eacd24bc8ba26f6d22a4596c16040e841d5dc3","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJekmvaCRBK7hj4Ov3rIwAAdHIIAA65U0wFS5KcuaEWiGAXVFdE\noqSNWBE021K1Mna3qaW2s+8Yy5zGj3lPHQVVV7vroiBYuppUiBUOY7v/ZN9CO9WN\ngqehxooa1FUxWvwa0pDZenjia67AaHiG1RezcRNn2jwUUlYub6d98l9pr77q9eTg\nqOdox5iOmF2PF98BUeFVsMirv7FsEcNlSmKKbwxtMBHuG+8afjxW4TqQyrXkU/A/\nc1yqzUtdbKM0hqyeMDIz1r/Dt1qisniyM28MVaK2mcTYzwxn5aCqXlcjQzFfvT1c\nf+bQvtDzSAZv1ipYwjJCgikHy0e3q+GfhDIbRR1kr/k3F1b1cl9MLOCnVnznmyo=\n=BqaQ\n-----END PGP SIGNATURE-----\n","payload":"tree eb5e7c08901a355a91bf0aa01297347695860112\nparent 7b4f6b6918b11da4910c3192647a53375da63cbd\nauthor Daniel Agar <daniel@agar.ca> 1586654170 -0400\ncommitter GitHub <noreply@github.com> 1586654170 -0400\n\npx4_fmu-v5_stackcheck: update stack sizes and add to Jenkins\n\n - increase stack sizes to run cleanly under stackcheck\r\n     - this is likely overkill for most boards, but using stackcheck to set our minimum ensures we have a very safe margin on regular builds and it's something we can currently afford\r\n - remove holybro_durandal-v1_stackcheck from test rack (there's only one unit)"}},"url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/66eacd24bc8ba26f6d22a4596c16040e841d5dc3","html_url":"https://github.com/PX4/PX4-Autopilot/commit/66eacd24bc8ba26f6d22a4596c16040e841d5dc3","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/comments","author":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"7b4f6b6918b11da4910c3192647a53375da63cbd","url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/7b4f6b6918b11da4910c3192647a53375da63cbd","html_url":"https://github.com/PX4/PX4-Autopilot/commit/7b4f6b6918b11da4910c3192647a53375da63cbd"}],"stats":{"total":179,"additions":84,"deletions":95},"files":[{"sha":"5eeeef453890c11dd84476e5a1fbbcc99619f27b","filename":".ci/Jenkinsfile-hardware","status":"modified","additions":38,"deletions":50,"changes":88,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/.ci%2FJenkinsfile-hardware","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/.ci%2FJenkinsfile-hardware","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/.ci%2FJenkinsfile-hardware?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -509,9 +509,9 @@ pipeline {\n           }\n         }\n \n-        stage(\"modalai_fc-v1_default\") {\n+        stage(\"px4_fmu-v5_stackcheck\") {\n           stages {\n-            stage(\"build modalai_fc-v1_default\") {\n+            stage(\"build px4_fmu-v5_stackcheck\") {\n               agent {\n                 docker {\n                   image 'px4io/px4-dev-nuttx-bionic:2020-04-01'\n@@ -523,10 +523,10 @@ pipeline {\n                 sh 'make distclean'\n                 sh 'ccache -s'\n                 sh 'git fetch --tags'\n-                sh 'make modalai_fc-v1_default'\n+                sh 'make px4_fmu-v5_stackcheck'\n                 sh 'make sizes'\n                 sh 'ccache -s'\n-                stash includes: 'build/modalai_fc-v1_default/modalai_fc-v1_default.elf', name: 'modalai_fc-v1_default'\n+                stash includes: 'build/px4_fmu-v5_stackcheck/px4_fmu-v5_stackcheck.elf', name: 'px4_fmu-v5_stackcheck'\n               }\n               post {\n                 always {\n@@ -536,42 +536,44 @@ pipeline {\n             } // stage build\n             stage(\"test\") {\n               agent {\n-                label 'modalai_fc-v1'\n+                label 'px4_fmu-v5'\n               }\n               stages {\n                 stage(\"flash\") {\n                   steps {\n                     sh 'export'\n                     sh 'find /dev/serial'\n-                    unstash 'modalai_fc-v1_default'\n+                    unstash 'px4_fmu-v5_stackcheck'\n                     // flash board and watch bootup\n-                    sh './platforms/nuttx/Debug/upload_jlink_gdb.sh build/modalai_fc-v1_default/modalai_fc-v1_default.elf'\n-                    sh './Tools/HIL/monitor_firmware_upload.py --device `find /dev/serial -name *usb-SEGGER_*` --baudrate 57600'\n+                    sh './platforms/nuttx/Debug/upload_jlink_gdb.sh build/px4_fmu-v5_stackcheck/px4_fmu-v5_stackcheck.elf'\n+                    sh './Tools/HIL/monitor_firmware_upload.py --device `find /dev/serial -name *usb-FTDI_*` --baudrate 57600'\n                   }\n                 }\n                 stage(\"configure\") {\n                   steps {\n                     // configure\n-                    sh './Tools/HIL/run_nsh_cmd.py --device `find /dev/serial -name *usb-SEGGER_*` --cmd \"param set CBRK_BUZZER 782097\"'  // disable buzzer\n-                    sh './Tools/HIL/run_nsh_cmd.py --device `find /dev/serial -name *usb-SEGGER_*` --cmd \"param set SYS_AUTOSTART 4001\"' // generic vtol standardulticopter\n-                    sh './Tools/HIL/run_nsh_cmd.py --device `find /dev/serial -name *usb-SEGGER_*` --cmd \"param save\"'\n-                    sh './Tools/HIL/run_nsh_cmd.py --device `find /dev/serial -name *usb-SEGGER_*` --cmd \"reboot\"'                        // reboot to apply\n+                    sh './Tools/HIL/run_nsh_cmd.py --device `find /dev/serial -name *usb-FTDI_*` --cmd \"param set CBRK_BUZZER 782097\"'   // disable buzzer\n+                    sh './Tools/HIL/run_nsh_cmd.py --device `find /dev/serial -name *usb-FTDI_*` --cmd \"param set IMU_GYRO_RATEMAX 250\"' // limit cpu usage\n+                    sh './Tools/HIL/run_nsh_cmd.py --device `find /dev/serial -name *usb-FTDI_*` --cmd \"param set MAV_0_CONFIG 0\"'       // limit cpu usage\n+                    sh './Tools/HIL/run_nsh_cmd.py --device `find /dev/serial -name *usb-FTDI_*` --cmd \"param set SYS_AUTOSTART 4001\"'   // generic multicopter\n+                    sh './Tools/HIL/run_nsh_cmd.py --device `find /dev/serial -name *usb-FTDI_*` --cmd \"param save\"'\n+                    sh './Tools/HIL/run_nsh_cmd.py --device `find /dev/serial -name *usb-FTDI_*` --cmd \"reboot\"'                         // reboot to apply\n                   }\n                 }\n                 stage(\"status\") {\n                   steps {\n-                    statusSEGGER()\n+                    statusFTDI()\n                   }\n                 }\n                 stage(\"tests\") {\n                   steps {\n                     // run tests\n-                    sh './Tools/HIL/run_tests.py --device `find /dev/serial -name *usb-SEGGER_*`'\n+                    sh './Tools/HIL/run_tests.py --device `find /dev/serial -name *usb-FTDI_*`'\n                   }\n                 }\n                 stage(\"reset\") {\n                   steps {\n-                    cleanupSEGGER()\n+                    cleanupFTDI();\n                   }\n                 }\n               }\n@@ -582,9 +584,9 @@ pipeline {\n           }\n         }\n \n-        stage(\"holybro_durandal-v1_default\") {\n+        stage(\"modalai_fc-v1_default\") {\n           stages {\n-            stage(\"build holybro_durandal-v1_default\") {\n+            stage(\"build modalai_fc-v1_default\") {\n               agent {\n                 docker {\n                   image 'px4io/px4-dev-nuttx-bionic:2020-04-01'\n@@ -596,10 +598,10 @@ pipeline {\n                 sh 'make distclean'\n                 sh 'ccache -s'\n                 sh 'git fetch --tags'\n-                sh 'make holybro_durandal-v1_default'\n+                sh 'make modalai_fc-v1_default'\n                 sh 'make sizes'\n                 sh 'ccache -s'\n-                stash includes: 'build/holybro_durandal-v1_default/holybro_durandal-v1_default.elf', name: 'holybro_durandal-v1_default'\n+                stash includes: 'build/modalai_fc-v1_default/modalai_fc-v1_default.elf', name: 'modalai_fc-v1_default'\n               }\n               post {\n                 always {\n@@ -609,43 +611,42 @@ pipeline {\n             } // stage build\n             stage(\"test\") {\n               agent {\n-                label 'holybro_durandal-v1'\n+                label 'modalai_fc-v1'\n               }\n               stages {\n                 stage(\"flash\") {\n                   steps {\n                     sh 'export'\n                     sh 'find /dev/serial'\n-                    unstash 'holybro_durandal-v1_default'\n+                    unstash 'modalai_fc-v1_default'\n                     // flash board and watch bootup\n-                    sh './platforms/nuttx/Debug/upload_jlink_gdb.sh build/holybro_durandal-v1_default/holybro_durandal-v1_default.elf'\n-                    sh './Tools/HIL/monitor_firmware_upload.py --device `find /dev/serial -name *usb-FTDI_*` --baudrate 57600'\n+                    sh './platforms/nuttx/Debug/upload_jlink_gdb.sh build/modalai_fc-v1_default/modalai_fc-v1_default.elf'\n+                    sh './Tools/HIL/monitor_firmware_upload.py --device `find /dev/serial -name *usb-SEGGER_*` --baudrate 57600'\n                   }\n                 }\n                 stage(\"configure\") {\n                   steps {\n                     // configure\n-                    sh './Tools/HIL/run_nsh_cmd.py --device `find /dev/serial -name *usb-FTDI_*` --cmd \"param set CBRK_BUZZER 782097\"'  // disable buzzer\n-                    sh './Tools/HIL/run_nsh_cmd.py --device `find /dev/serial -name *usb-FTDI_*` --cmd \"param set SYS_AUTOSTART 13000\"' // generic vtol standard\n-                    sh './Tools/HIL/run_nsh_cmd.py --device `find /dev/serial -name *usb-FTDI_*` --cmd \"param set SYS_BL_UPDATE 1\"'     // update bootloader\n-                    sh './Tools/HIL/run_nsh_cmd.py --device `find /dev/serial -name *usb-FTDI_*` --cmd \"param save\"'\n-                    sh './Tools/HIL/run_nsh_cmd.py --device `find /dev/serial -name *usb-FTDI_*` --cmd \"reboot\"'                        // reboot to apply\n+                    sh './Tools/HIL/run_nsh_cmd.py --device `find /dev/serial -name *usb-SEGGER_*` --cmd \"param set CBRK_BUZZER 782097\"'  // disable buzzer\n+                    sh './Tools/HIL/run_nsh_cmd.py --device `find /dev/serial -name *usb-SEGGER_*` --cmd \"param set SYS_AUTOSTART 4001\"' // generic vtol standardulticopter\n+                    sh './Tools/HIL/run_nsh_cmd.py --device `find /dev/serial -name *usb-SEGGER_*` --cmd \"param save\"'\n+                    sh './Tools/HIL/run_nsh_cmd.py --device `find /dev/serial -name *usb-SEGGER_*` --cmd \"reboot\"'                        // reboot to apply\n                   }\n                 }\n                 stage(\"status\") {\n                   steps {\n-                    statusFTDI()\n+                    statusSEGGER()\n                   }\n                 }\n                 stage(\"tests\") {\n                   steps {\n                     // run tests\n-                    sh './Tools/HIL/run_tests.py --device `find /dev/serial -name *usb-FTDI_*`'\n+                    sh './Tools/HIL/run_tests.py --device `find /dev/serial -name *usb-SEGGER_*`'\n                   }\n                 }\n                 stage(\"reset\") {\n                   steps {\n-                    cleanupFTDI();\n+                    cleanupSEGGER()\n                   }\n                 }\n               }\n@@ -656,9 +657,9 @@ pipeline {\n           }\n         }\n \n-        stage(\"holybro_durandal-v1_stackcheck\") {\n+        stage(\"holybro_durandal-v1_default\") {\n           stages {\n-            stage(\"build holybro_durandal-v1_stackcheck\") {\n+            stage(\"build holybro_durandal-v1_default\") {\n               agent {\n                 docker {\n                   image 'px4io/px4-dev-nuttx-bionic:2020-04-01'\n@@ -670,10 +671,10 @@ pipeline {\n                 sh 'make distclean'\n                 sh 'ccache -s'\n                 sh 'git fetch --tags'\n-                sh 'make holybro_durandal-v1_stackcheck'\n+                sh 'make holybro_durandal-v1_default'\n                 sh 'make sizes'\n                 sh 'ccache -s'\n-                stash includes: 'build/holybro_durandal-v1_stackcheck/holybro_durandal-v1_stackcheck.elf', name: 'holybro_durandal-v1_stackcheck'\n+                stash includes: 'build/holybro_durandal-v1_default/holybro_durandal-v1_default.elf', name: 'holybro_durandal-v1_default'\n               }\n               post {\n                 always {\n@@ -690,9 +691,9 @@ pipeline {\n                   steps {\n                     sh 'export'\n                     sh 'find /dev/serial'\n-                    unstash 'holybro_durandal-v1_stackcheck'\n+                    unstash 'holybro_durandal-v1_default'\n                     // flash board and watch bootup\n-                    sh './platforms/nuttx/Debug/upload_jlink_gdb.sh build/holybro_durandal-v1_stackcheck/holybro_durandal-v1_stackcheck.elf'\n+                    sh './platforms/nuttx/Debug/upload_jlink_gdb.sh build/holybro_durandal-v1_default/holybro_durandal-v1_default.elf'\n                     sh './Tools/HIL/monitor_firmware_upload.py --device `find /dev/serial -name *usb-FTDI_*` --baudrate 57600'\n                   }\n                 }\n@@ -717,19 +718,6 @@ pipeline {\n                     sh './Tools/HIL/run_tests.py --device `find /dev/serial -name *usb-FTDI_*`'\n                   }\n                 }\n-                stage(\"stop modules\") {\n-                  steps {\n-                    // manually stop everything\n-                    sh './Tools/HIL/run_nsh_cmd.py --device `find /dev/serial -name *usb-FTDI_*` --cmd \"commander stop\"'\n-                    sh './Tools/HIL/run_nsh_cmd.py --device `find /dev/serial -name *usb-FTDI_*` --cmd \"mavlink stop-all\"'\n-                    sh './Tools/HIL/run_nsh_cmd.py --device `find /dev/serial -name *usb-FTDI_*` --cmd \"ekf2 stop\"'\n-                    sh './Tools/HIL/run_nsh_cmd.py --device `find /dev/serial -name *usb-FTDI_*` --cmd \"navigator stop\"'\n-                    sh './Tools/HIL/run_nsh_cmd.py --device `find /dev/serial -name *usb-FTDI_*` --cmd \"dataman stop\"'\n-                    sh './Tools/HIL/run_nsh_cmd.py --device `find /dev/serial -name *usb-FTDI_*` --cmd \"logger stop\"'\n-                    sh './Tools/HIL/run_nsh_cmd.py --device `find /dev/serial -name *usb-FTDI_*` --cmd \"fmu stop\"'\n-                    sh './Tools/HIL/run_nsh_cmd.py --device `find /dev/serial -name *usb-FTDI_*` --cmd \"px4io stop\"'\n-                  }\n-                }\n                 stage(\"reset\") {\n                   steps {\n                     cleanupFTDI();"},{"sha":"1600271d593e8223c9290de4187029712a34b235","filename":"boards/airmind/mindpx-v2/nuttx-config/nsh/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fairmind%2Fmindpx-v2%2Fnuttx-config%2Fnsh%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fairmind%2Fmindpx-v2%2Fnuttx-config%2Fnsh%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fairmind%2Fmindpx-v2%2Fnuttx-config%2Fnsh%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -244,5 +244,5 @@ CONFIG_USBDEV=y\n CONFIG_USBDEV_BUSPOWERED=y\n CONFIG_USBDEV_MAXPOWER=500\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"nsh_main\""},{"sha":"669a5480b4f1ead1b33e998a8e99d25d36c06cef","filename":"boards/av/x-v1/nuttx-config/nsh/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fav%2Fx-v1%2Fnuttx-config%2Fnsh%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fav%2Fx-v1%2Fnuttx-config%2Fnsh%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fav%2Fx-v1%2Fnuttx-config%2Fnsh%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -271,5 +271,5 @@ CONFIG_USART6_RXBUFSIZE=600\n CONFIG_USART6_RXDMA=y\n CONFIG_USART6_TXBUFSIZE=1500\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"nsh_main\""},{"sha":"2645de9c5d4ee8ea7402ceab34abf197b30cb0ca","filename":"boards/bitcraze/crazyflie/nuttx-config/nsh/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fbitcraze%2Fcrazyflie%2Fnuttx-config%2Fnsh%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fbitcraze%2Fcrazyflie%2Fnuttx-config%2Fnsh%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fbitcraze%2Fcrazyflie%2Fnuttx-config%2Fnsh%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -198,5 +198,5 @@ CONFIG_USBDEV=y\n CONFIG_USBDEV_BUSPOWERED=y\n CONFIG_USBDEV_MAXPOWER=500\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"nsh_main\""},{"sha":"16e477c2a4e527c964e34950241fafe3bd399587","filename":"boards/holybro/durandal-v1/nuttx-config/bootloader/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fholybro%2Fdurandal-v1%2Fnuttx-config%2Fbootloader%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fholybro%2Fdurandal-v1%2Fnuttx-config%2Fbootloader%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fholybro%2Fdurandal-v1%2Fnuttx-config%2Fbootloader%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -105,5 +105,5 @@ CONFIG_USBDEV=y\n CONFIG_USBDEV_BUSPOWERED=y\n CONFIG_USBDEV_MAXPOWER=500\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"bootloader_main\""},{"sha":"45c772c154ffb37ae5e6bc39da54c710b1edc056","filename":"boards/holybro/durandal-v1/nuttx-config/nsh/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fholybro%2Fdurandal-v1%2Fnuttx-config%2Fnsh%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fholybro%2Fdurandal-v1%2Fnuttx-config%2Fnsh%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fholybro%2Fdurandal-v1%2Fnuttx-config%2Fnsh%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -248,6 +248,6 @@ CONFIG_USBDEV=y\n CONFIG_USBDEV_BUSPOWERED=y\n CONFIG_USBDEV_MAXPOWER=500\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"nsh_main\"\n CONFIG_WATCHDOG=y"},{"sha":"c4357fc0d1d55a752acc052fc66062c3b404f5fd","filename":"boards/holybro/durandal-v1/nuttx-config/stackcheck/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fholybro%2Fdurandal-v1%2Fnuttx-config%2Fstackcheck%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fholybro%2Fdurandal-v1%2Fnuttx-config%2Fstackcheck%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fholybro%2Fdurandal-v1%2Fnuttx-config%2Fstackcheck%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -249,6 +249,6 @@ CONFIG_USBDEV=y\n CONFIG_USBDEV_BUSPOWERED=y\n CONFIG_USBDEV_MAXPOWER=500\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"nsh_main\"\n CONFIG_WATCHDOG=y"},{"sha":"0757db93e27c5d2ea8b1369adfbd3f750ca91f95","filename":"boards/holybro/kakutef7/nuttx-config/nsh/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fholybro%2Fkakutef7%2Fnuttx-config%2Fnsh%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fholybro%2Fkakutef7%2Fnuttx-config%2Fnsh%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fholybro%2Fkakutef7%2Fnuttx-config%2Fnsh%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -226,5 +226,5 @@ CONFIG_USBDEV=y\n CONFIG_USBDEV_BUSPOWERED=y\n CONFIG_USBDEV_MAXPOWER=500\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"nsh_main\""},{"sha":"979257cf2c8899f89e9ba2fb90758b68a9d19d3c","filename":"boards/intel/aerofc-v1/nuttx-config/nsh/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fintel%2Faerofc-v1%2Fnuttx-config%2Fnsh%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fintel%2Faerofc-v1%2Fnuttx-config%2Fnsh%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fintel%2Faerofc-v1%2Fnuttx-config%2Fnsh%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -204,5 +204,5 @@ CONFIG_USART6_RXDMA=y\n CONFIG_USART6_SERIAL_CONSOLE=y\n CONFIG_USART6_TXBUFSIZE=300\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"nsh_main\""},{"sha":"0aabb2d44f1584b7e972e6b3c939b2949270d180","filename":"boards/modalai/fc-v1/nuttx-config/nsh/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fmodalai%2Ffc-v1%2Fnuttx-config%2Fnsh%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fmodalai%2Ffc-v1%2Fnuttx-config%2Fnsh%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fmodalai%2Ffc-v1%2Fnuttx-config%2Fnsh%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -257,5 +257,5 @@ CONFIG_USBDEV=y\n CONFIG_USBDEV_BUSPOWERED=y\n CONFIG_USBDEV_MAXPOWER=500\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"nsh_main\""},{"sha":"8320bbdf82e518d7579993f4a7618fd32fccb254","filename":"boards/mro/ctrl-zero-f7/nuttx-config/nsh/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fmro%2Fctrl-zero-f7%2Fnuttx-config%2Fnsh%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fmro%2Fctrl-zero-f7%2Fnuttx-config%2Fnsh%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fmro%2Fctrl-zero-f7%2Fnuttx-config%2Fnsh%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -245,5 +245,5 @@ CONFIG_USBDEV=y\n CONFIG_USBDEV_BUSPOWERED=y\n CONFIG_USBDEV_MAXPOWER=500\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"nsh_main\""},{"sha":"207a1e50febe9355a4f12530417a21a5f27c5a33","filename":"boards/mro/x21-777/nuttx-config/nsh/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fmro%2Fx21-777%2Fnuttx-config%2Fnsh%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fmro%2Fx21-777%2Fnuttx-config%2Fnsh%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fmro%2Fx21-777%2Fnuttx-config%2Fnsh%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -247,5 +247,5 @@ CONFIG_USBDEV=y\n CONFIG_USBDEV_BUSPOWERED=y\n CONFIG_USBDEV_MAXPOWER=500\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"nsh_main\""},{"sha":"f14541227bedd69329148826b1ce514d1142f6ef","filename":"boards/mro/x21/nuttx-config/nsh/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fmro%2Fx21%2Fnuttx-config%2Fnsh%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fmro%2Fx21%2Fnuttx-config%2Fnsh%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fmro%2Fx21%2Fnuttx-config%2Fnsh%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -243,5 +243,5 @@ CONFIG_USBDEV=y\n CONFIG_USBDEV_BUSPOWERED=y\n CONFIG_USBDEV_MAXPOWER=500\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"nsh_main\""},{"sha":"29b65956ed8514944c4888f87d19b5cb65849277","filename":"boards/nxp/fmuk66-v3/nuttx-config/nsh/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fnxp%2Ffmuk66-v3%2Fnuttx-config%2Fnsh%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fnxp%2Ffmuk66-v3%2Fnuttx-config%2Fnsh%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fnxp%2Ffmuk66-v3%2Fnuttx-config%2Fnsh%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -213,6 +213,6 @@ CONFIG_USBDEV_BUSPOWERED=y\n CONFIG_USBDEV_DUALSPEED=y\n CONFIG_USBDEV_MAXPOWER=500\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"nsh_main\"\n CONFIG_WATCHDOG=y"},{"sha":"abeae56c71daff01517bdc009cf80b75c957508d","filename":"boards/nxp/fmurt1062-v1/nuttx-config/nsh/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fnxp%2Ffmurt1062-v1%2Fnuttx-config%2Fnsh%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fnxp%2Ffmurt1062-v1%2Fnuttx-config%2Fnsh%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fnxp%2Ffmurt1062-v1%2Fnuttx-config%2Fnsh%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -243,6 +243,6 @@ CONFIG_USBDEV=y\n CONFIG_USBDEV_BUSPOWERED=y\n CONFIG_USBDEV_MAXPOWER=500\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"nsh_main\"\n CONFIG_WATCHDOG=y"},{"sha":"04a6bdd3b8121e710345bd0d90e54230eaa8d62e","filename":"boards/omnibus/f4sd/nuttx-config/nsh/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fomnibus%2Ff4sd%2Fnuttx-config%2Fnsh%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fomnibus%2Ff4sd%2Fnuttx-config%2Fnsh%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fomnibus%2Ff4sd%2Fnuttx-config%2Fnsh%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -198,5 +198,5 @@ CONFIG_USBDEV=y\n CONFIG_USBDEV_BUSPOWERED=y\n CONFIG_USBDEV_MAXPOWER=500\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"nsh_main\""},{"sha":"0f232d5fe1ef32dc0267c9eac66a40113c144e03","filename":"boards/px4/fmu-v2/nuttx-config/nsh/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v2%2Fnuttx-config%2Fnsh%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v2%2Fnuttx-config%2Fnsh%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fpx4%2Ffmu-v2%2Fnuttx-config%2Fnsh%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -249,5 +249,5 @@ CONFIG_USBDEV=y\n CONFIG_USBDEV_BUSPOWERED=y\n CONFIG_USBDEV_MAXPOWER=500\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"nsh_main\""},{"sha":"6d3734eb86febfa72741a6087207f54dae465826","filename":"boards/px4/fmu-v3/nuttx-config/nsh/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v3%2Fnuttx-config%2Fnsh%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v3%2Fnuttx-config%2Fnsh%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fpx4%2Ffmu-v3%2Fnuttx-config%2Fnsh%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -248,5 +248,5 @@ CONFIG_USBDEV=y\n CONFIG_USBDEV_BUSPOWERED=y\n CONFIG_USBDEV_MAXPOWER=500\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"nsh_main\""},{"sha":"f0ac4cbb420a2b7ec26a35fa67564c309e6c47cc","filename":"boards/px4/fmu-v3/nuttx-config/stackcheck/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v3%2Fnuttx-config%2Fstackcheck%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v3%2Fnuttx-config%2Fstackcheck%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fpx4%2Ffmu-v3%2Fnuttx-config%2Fstackcheck%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -249,5 +249,5 @@ CONFIG_USBDEV=y\n CONFIG_USBDEV_BUSPOWERED=y\n CONFIG_USBDEV_MAXPOWER=500\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"nsh_main\""},{"sha":"3dd5c54556ec08b8501d25204379dead002cdfc9","filename":"boards/px4/fmu-v4/nuttx-config/nsh/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v4%2Fnuttx-config%2Fnsh%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v4%2Fnuttx-config%2Fnsh%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fpx4%2Ffmu-v4%2Fnuttx-config%2Fnsh%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -246,5 +246,5 @@ CONFIG_USBDEV=y\n CONFIG_USBDEV_BUSPOWERED=y\n CONFIG_USBDEV_MAXPOWER=500\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"nsh_main\""},{"sha":"8ad02f2ffd59ac5f719aaf975cc1487c64a58966","filename":"boards/px4/fmu-v4/nuttx-config/optimized/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v4%2Fnuttx-config%2Foptimized%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v4%2Fnuttx-config%2Foptimized%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fpx4%2Ffmu-v4%2Fnuttx-config%2Foptimized%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -247,5 +247,5 @@ CONFIG_USBDEV=y\n CONFIG_USBDEV_BUSPOWERED=y\n CONFIG_USBDEV_MAXPOWER=500\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"nsh_main\""},{"sha":"453cb3f8fa807a59cdf72d57c95a8865e01e31e1","filename":"boards/px4/fmu-v4/nuttx-config/stackcheck/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v4%2Fnuttx-config%2Fstackcheck%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v4%2Fnuttx-config%2Fstackcheck%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fpx4%2Ffmu-v4%2Fnuttx-config%2Fstackcheck%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -247,5 +247,5 @@ CONFIG_USBDEV=y\n CONFIG_USBDEV_BUSPOWERED=y\n CONFIG_USBDEV_MAXPOWER=500\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"nsh_main\""},{"sha":"7695771b41f7b8adc6e068948612d4d161011cde","filename":"boards/px4/fmu-v4pro/nuttx-config/nsh/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v4pro%2Fnuttx-config%2Fnsh%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v4pro%2Fnuttx-config%2Fnsh%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fpx4%2Ffmu-v4pro%2Fnuttx-config%2Fnsh%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -251,5 +251,5 @@ CONFIG_USBDEV=y\n CONFIG_USBDEV_BUSPOWERED=y\n CONFIG_USBDEV_MAXPOWER=500\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"nsh_main\""},{"sha":"acc1fc3faa35dcc002e5ec2f5ea78ababca91643","filename":"boards/px4/fmu-v5/nuttx-config/critmonitor/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v5%2Fnuttx-config%2Fcritmonitor%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v5%2Fnuttx-config%2Fcritmonitor%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fpx4%2Ffmu-v5%2Fnuttx-config%2Fcritmonitor%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -254,5 +254,5 @@ CONFIG_USBDEV=y\n CONFIG_USBDEV_BUSPOWERED=y\n CONFIG_USBDEV_MAXPOWER=500\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"nsh_main\""},{"sha":"48ad71260f594709da6fe9f57d21065091d5d7d5","filename":"boards/px4/fmu-v5/nuttx-config/irqmonitor/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v5%2Fnuttx-config%2Firqmonitor%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v5%2Fnuttx-config%2Firqmonitor%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fpx4%2Ffmu-v5%2Fnuttx-config%2Firqmonitor%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -253,5 +253,5 @@ CONFIG_USBDEV=y\n CONFIG_USBDEV_BUSPOWERED=y\n CONFIG_USBDEV_MAXPOWER=500\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"nsh_main\""},{"sha":"c6c94818713309d51e2d33fb4726bed24cbbdb22","filename":"boards/px4/fmu-v5/nuttx-config/nsh/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v5%2Fnuttx-config%2Fnsh%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v5%2Fnuttx-config%2Fnsh%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fpx4%2Ffmu-v5%2Fnuttx-config%2Fnsh%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -252,5 +252,5 @@ CONFIG_USBDEV=y\n CONFIG_USBDEV_BUSPOWERED=y\n CONFIG_USBDEV_MAXPOWER=500\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"nsh_main\""},{"sha":"396d1a8923b4d51b42b75efda4b660ac722f55b4","filename":"boards/px4/fmu-v5/nuttx-config/optimized/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v5%2Fnuttx-config%2Foptimized%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v5%2Fnuttx-config%2Foptimized%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fpx4%2Ffmu-v5%2Fnuttx-config%2Foptimized%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -253,5 +253,5 @@ CONFIG_USBDEV=y\n CONFIG_USBDEV_BUSPOWERED=y\n CONFIG_USBDEV_MAXPOWER=500\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"nsh_main\""},{"sha":"0920c4813f09b617125a3e2b0db65c8f6b6979ca","filename":"boards/px4/fmu-v5/nuttx-config/stackcheck/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v5%2Fnuttx-config%2Fstackcheck%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v5%2Fnuttx-config%2Fstackcheck%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fpx4%2Ffmu-v5%2Fnuttx-config%2Fstackcheck%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -253,5 +253,5 @@ CONFIG_USBDEV=y\n CONFIG_USBDEV_BUSPOWERED=y\n CONFIG_USBDEV_MAXPOWER=500\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"nsh_main\""},{"sha":"316bfb0e9b976a1268335c6801a7ed3a79a53946","filename":"boards/px4/fmu-v5/stackcheck.cmake","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v5%2Fstackcheck.cmake","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v5%2Fstackcheck.cmake","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fpx4%2Ffmu-v5%2Fstackcheck.cmake?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -67,6 +67,7 @@ px4_add_board(\n \t\tcommander\n \t\tdataman\n \t\tekf2\n+\t\t#esc_battery\n \t\tevents\n \t\tfw_att_control\n \t\tfw_pos_control_l1"},{"sha":"8c1b47363c8a52bad28b33825890be9fc02d0100","filename":"boards/px4/fmu-v5x/nuttx-config/nsh/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v5x%2Fnuttx-config%2Fnsh%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v5x%2Fnuttx-config%2Fnsh%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fpx4%2Ffmu-v5x%2Fnuttx-config%2Fnsh%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -292,5 +292,5 @@ CONFIG_USBDEV=y\n CONFIG_USBDEV_BUSPOWERED=y\n CONFIG_USBDEV_MAXPOWER=500\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"nsh_main\""},{"sha":"b1f59b4101d2f88a4ecda88bb59b7f5397a3ef22","filename":"boards/px4/fmu-v5x/nuttx-config/p2_base_phy_LAN8742Ai/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v5x%2Fnuttx-config%2Fp2_base_phy_LAN8742Ai%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fpx4%2Ffmu-v5x%2Fnuttx-config%2Fp2_base_phy_LAN8742Ai%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fpx4%2Ffmu-v5x%2Fnuttx-config%2Fp2_base_phy_LAN8742Ai%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -293,5 +293,5 @@ CONFIG_USBDEV=y\n CONFIG_USBDEV_BUSPOWERED=y\n CONFIG_USBDEV_MAXPOWER=500\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"nsh_main\""},{"sha":"d71cca00c52a0ed27dc78bc9e4333dfae742c97c","filename":"boards/uvify/core/nuttx-config/nsh/defconfig","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fuvify%2Fcore%2Fnuttx-config%2Fnsh%2Fdefconfig","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/boards%2Fuvify%2Fcore%2Fnuttx-config%2Fnsh%2Fdefconfig","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/boards%2Fuvify%2Fcore%2Fnuttx-config%2Fnsh%2Fdefconfig?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -246,5 +246,5 @@ CONFIG_USBDEV=y\n CONFIG_USBDEV_BUSPOWERED=y\n CONFIG_USBDEV_MAXPOWER=500\n CONFIG_USEC_PER_TICK=1000\n-CONFIG_USERMAIN_STACKSIZE=2688\n+CONFIG_USERMAIN_STACKSIZE=2944\n CONFIG_USER_ENTRYPOINT=\"nsh_main\""},{"sha":"98b3dd4deb4831f934304c0cdf54eee76f25ff02","filename":"platforms/common/include/px4_platform_common/px4_work_queue/WorkQueueManager.hpp","status":"modified","additions":15,"deletions":15,"changes":30,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/platforms%2Fcommon%2Finclude%2Fpx4_platform_common%2Fpx4_work_queue%2FWorkQueueManager.hpp","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/66eacd24bc8ba26f6d22a4596c16040e841d5dc3/platforms%2Fcommon%2Finclude%2Fpx4_platform_common%2Fpx4_work_queue%2FWorkQueueManager.hpp","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/platforms%2Fcommon%2Finclude%2Fpx4_platform_common%2Fpx4_work_queue%2FWorkQueueManager.hpp?ref=66eacd24bc8ba26f6d22a4596c16040e841d5dc3","patch":"@@ -48,21 +48,21 @@ struct wq_config_t {\n \n namespace wq_configurations\n {\n-static constexpr wq_config_t rate_ctrl{\"wq:rate_ctrl\", 1600, 0}; // PX4 inner loop highest priority\n-\n-static constexpr wq_config_t SPI0{\"wq:SPI0\", 2368, -1};\n-static constexpr wq_config_t SPI1{\"wq:SPI1\", 2368, -2};\n-static constexpr wq_config_t SPI2{\"wq:SPI2\", 2368, -3};\n-static constexpr wq_config_t SPI3{\"wq:SPI3\", 2368, -4};\n-static constexpr wq_config_t SPI4{\"wq:SPI4\", 2368, -5};\n-static constexpr wq_config_t SPI5{\"wq:SPI5\", 2368, -6};\n-static constexpr wq_config_t SPI6{\"wq:SPI6\", 2368, -7};\n-\n-static constexpr wq_config_t I2C0{\"wq:I2C0\", 1400, -8};\n-static constexpr wq_config_t I2C1{\"wq:I2C1\", 1400, -9};\n-static constexpr wq_config_t I2C2{\"wq:I2C2\", 1400, -10};\n-static constexpr wq_config_t I2C3{\"wq:I2C3\", 1400, -11};\n-static constexpr wq_config_t I2C4{\"wq:I2C4\", 1400, -12};\n+static constexpr wq_config_t rate_ctrl{\"wq:rate_ctrl\", 1664, 0}; // PX4 inner loop highest priority\n+\n+static constexpr wq_config_t SPI0{\"wq:SPI0\", 2496, -1};\n+static constexpr wq_config_t SPI1{\"wq:SPI1\", 2496, -2};\n+static constexpr wq_config_t SPI2{\"wq:SPI2\", 2496, -3};\n+static constexpr wq_config_t SPI3{\"wq:SPI3\", 2496, -4};\n+static constexpr wq_config_t SPI4{\"wq:SPI4\", 2496, -5};\n+static constexpr wq_config_t SPI5{\"wq:SPI5\", 2496, -6};\n+static constexpr wq_config_t SPI6{\"wq:SPI6\", 2496, -7};\n+\n+static constexpr wq_config_t I2C0{\"wq:I2C0\", 1472, -8};\n+static constexpr wq_config_t I2C1{\"wq:I2C1\", 1472, -9};\n+static constexpr wq_config_t I2C2{\"wq:I2C2\", 1472, -10};\n+static constexpr wq_config_t I2C3{\"wq:I2C3\", 1472, -11};\n+static constexpr wq_config_t I2C4{\"wq:I2C4\", 1472, -12};\n \n // PX4 att/pos controllers, highest priority after sensors.\n static constexpr wq_config_t att_pos_ctrl{\"wq:att_pos_ctrl\", 7200, -13};"}]}