{"sha":"92e1d5eb78d9d04a89b0413718c8bab6e9af7f63","node_id":"MDY6Q29tbWl0NTI5ODc5MDo5MmUxZDVlYjc4ZDlkMDRhODliMDQxMzcxOGM4YmFiNmU5YWY3ZjYz","commit":{"author":{"name":"px4dev","email":"px4@purgatory.org","date":"2012-11-29T04:12:36Z"},"committer":{"name":"px4dev","email":"px4@purgatory.org","date":"2012-11-29T04:12:36Z"},"message":"Possible fix for #78 - increase the wait timeout for discard when flashing PX4IO. It's not clear this solves the issue, but I can't reproduce it with this added.","tree":{"sha":"636fd73adb2a126aa03ee455d3b688a5bc77e117","url":"https://api.github.com/repos/PX4/PX4-Autopilot/git/trees/636fd73adb2a126aa03ee455d3b688a5bc77e117"},"url":"https://api.github.com/repos/PX4/PX4-Autopilot/git/commits/92e1d5eb78d9d04a89b0413718c8bab6e9af7f63","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/92e1d5eb78d9d04a89b0413718c8bab6e9af7f63","html_url":"https://github.com/PX4/PX4-Autopilot/commit/92e1d5eb78d9d04a89b0413718c8bab6e9af7f63","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/92e1d5eb78d9d04a89b0413718c8bab6e9af7f63/comments","author":{"login":"px4dev","id":2095699,"node_id":"MDQ6VXNlcjIwOTU2OTk=","avatar_url":"https://avatars.githubusercontent.com/u/2095699?v=4","gravatar_id":"","url":"https://api.github.com/users/px4dev","html_url":"https://github.com/px4dev","followers_url":"https://api.github.com/users/px4dev/followers","following_url":"https://api.github.com/users/px4dev/following{/other_user}","gists_url":"https://api.github.com/users/px4dev/gists{/gist_id}","starred_url":"https://api.github.com/users/px4dev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/px4dev/subscriptions","organizations_url":"https://api.github.com/users/px4dev/orgs","repos_url":"https://api.github.com/users/px4dev/repos","events_url":"https://api.github.com/users/px4dev/events{/privacy}","received_events_url":"https://api.github.com/users/px4dev/received_events","type":"User","site_admin":false},"committer":{"login":"px4dev","id":2095699,"node_id":"MDQ6VXNlcjIwOTU2OTk=","avatar_url":"https://avatars.githubusercontent.com/u/2095699?v=4","gravatar_id":"","url":"https://api.github.com/users/px4dev","html_url":"https://github.com/px4dev","followers_url":"https://api.github.com/users/px4dev/followers","following_url":"https://api.github.com/users/px4dev/following{/other_user}","gists_url":"https://api.github.com/users/px4dev/gists{/gist_id}","starred_url":"https://api.github.com/users/px4dev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/px4dev/subscriptions","organizations_url":"https://api.github.com/users/px4dev/orgs","repos_url":"https://api.github.com/users/px4dev/repos","events_url":"https://api.github.com/users/px4dev/events{/privacy}","received_events_url":"https://api.github.com/users/px4dev/received_events","type":"User","site_admin":false},"parents":[{"sha":"3de3b585054d4df81ebe55f5ce4efd334ae9f1a2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/3de3b585054d4df81ebe55f5ce4efd334ae9f1a2","html_url":"https://github.com/PX4/PX4-Autopilot/commit/3de3b585054d4df81ebe55f5ce4efd334ae9f1a2"}],"stats":{"total":6,"additions":4,"deletions":2},"files":[{"sha":"8b354ff600eebe7b4ae64345097e8764a4698e15","filename":"apps/drivers/px4io/uploader.cpp","status":"modified","additions":4,"deletions":2,"changes":6,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/92e1d5eb78d9d04a89b0413718c8bab6e9af7f63/apps%2Fdrivers%2Fpx4io%2Fuploader.cpp","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/92e1d5eb78d9d04a89b0413718c8bab6e9af7f63/apps%2Fdrivers%2Fpx4io%2Fuploader.cpp","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/apps%2Fdrivers%2Fpx4io%2Fuploader.cpp?ref=92e1d5eb78d9d04a89b0413718c8bab6e9af7f63","patch":"@@ -189,8 +189,10 @@ PX4IO_Uploader::drain()\n \tint ret;\n \n \tdo {\n-\t\tret = recv(c, 10);\n-\t\t//log(\"discard 0x%02x\", c);\n+\t\tret = recv(c, 250);\n+\t\tif (ret == OK) {\n+\t\t\t//log(\"discard 0x%02x\", c);\n+\t\t}\n \t} while (ret == OK);\n }\n "}]}