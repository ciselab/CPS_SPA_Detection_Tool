{"sha":"7958586f35e31b8f2a17e2dcfde010ac36f7a5b8","node_id":"MDY6Q29tbWl0NTI5ODc5MDo3OTU4NTg2ZjM1ZTMxYjhmMmExN2UyZGNmZGUwMTBhYzM2ZjdhNWI4","commit":{"author":{"name":"Julian Kent","email":"julian@auterion.com","date":"2020-08-03T13:15:09Z"},"committer":{"name":"Daniel Agar","email":"daniel@agar.ca","date":"2020-08-20T15:50:16Z"},"message":"Only use roll/pitch not centered for RC override, and increase override threshold","tree":{"sha":"43862e795aec811ebbba7eb56a4fd99bdeef3caf","url":"https://api.github.com/repos/PX4/PX4-Autopilot/git/trees/43862e795aec811ebbba7eb56a4fd99bdeef3caf"},"url":"https://api.github.com/repos/PX4/PX4-Autopilot/git/commits/7958586f35e31b8f2a17e2dcfde010ac36f7a5b8","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/7958586f35e31b8f2a17e2dcfde010ac36f7a5b8","html_url":"https://github.com/PX4/PX4-Autopilot/commit/7958586f35e31b8f2a17e2dcfde010ac36f7a5b8","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/7958586f35e31b8f2a17e2dcfde010ac36f7a5b8/comments","author":null,"committer":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"parents":[{"sha":"cbbde2e4a2f7d04a15bca56efdd3e01abec1fd8c","url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/cbbde2e4a2f7d04a15bca56efdd3e01abec1fd8c","html_url":"https://github.com/PX4/PX4-Autopilot/commit/cbbde2e4a2f7d04a15bca56efdd3e01abec1fd8c"}],"stats":{"total":13,"additions":5,"deletions":8},"files":[{"sha":"4120aeb6d9181c9be1a768e110f7a96077b70463","filename":"src/modules/commander/Commander.cpp","status":"modified","additions":3,"deletions":6,"changes":9,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/7958586f35e31b8f2a17e2dcfde010ac36f7a5b8/src%2Fmodules%2Fcommander%2FCommander.cpp","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/7958586f35e31b8f2a17e2dcfde010ac36f7a5b8/src%2Fmodules%2Fcommander%2FCommander.cpp","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/src%2Fmodules%2Fcommander%2FCommander.cpp?ref=7958586f35e31b8f2a17e2dcfde010ac36f7a5b8","patch":"@@ -1884,12 +1884,9 @@ Commander::run()\n \t\tif ((override_auto_mode || override_offboard_mode) && is_rotary_wing\n \t\t    && !in_low_battery_failsafe && !_geofence_warning_action_on) {\n \t\t\t// transition to previous state if sticks are touched\n-\t\t\tif ((_last_manual_control_setpoint.timestamp != _manual_control_setpoint.timestamp) &&\n-\t\t\t    ((fabsf(_manual_control_setpoint.x - _last_manual_control_setpoint.x) > _min_stick_change) ||\n-\t\t\t     (fabsf(_manual_control_setpoint.y - _last_manual_control_setpoint.y) > _min_stick_change) ||\n-\t\t\t     (fabsf(_manual_control_setpoint.z - _last_manual_control_setpoint.z) > _min_stick_change) ||\n-\t\t\t     (fabsf(_manual_control_setpoint.r - _last_manual_control_setpoint.r) > _min_stick_change))) {\n-\n+\t\t\tif (hrt_elapsed_time(&_manual_control_setpoint.timestamp) < 1_s && // don't use uninitialized or old messages\n+\t\t\t    ((fabsf(_manual_control_setpoint.x) > _min_stick_change) ||\n+\t\t\t     (fabsf(_manual_control_setpoint.y) > _min_stick_change))) {\n \t\t\t\t// revert to position control in any case\n \t\t\t\tmain_state_transition(status, commander_state_s::MAIN_STATE_POSCTL, status_flags, &_internal_state);\n \t\t\t\tmavlink_log_info(&mavlink_log_pub, \"Pilot took over control using sticks\");"},{"sha":"c2a63132dfd755ae7c7452f90364eb50281e5dc8","filename":"src/modules/commander/commander_params.c","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/7958586f35e31b8f2a17e2dcfde010ac36f7a5b8/src%2Fmodules%2Fcommander%2Fcommander_params.c","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/7958586f35e31b8f2a17e2dcfde010ac36f7a5b8/src%2Fmodules%2Fcommander%2Fcommander_params.c","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/src%2Fmodules%2Fcommander%2Fcommander_params.c?ref=7958586f35e31b8f2a17e2dcfde010ac36f7a5b8","patch":"@@ -194,11 +194,11 @@ PARAM_DEFINE_FLOAT(COM_RC_LOSS_T, 0.5f);\n  * @group Commander\n  * @unit %\n  * @min 5\n- * @max 40\n+ * @max 80\n  * @decimal 0\n  * @increment 0.05\n  */\n-PARAM_DEFINE_FLOAT(COM_RC_STICK_OV, 12.0f);\n+PARAM_DEFINE_FLOAT(COM_RC_STICK_OV, 50.0f);\n \n /**\n  * Home set horizontal threshold"}]}