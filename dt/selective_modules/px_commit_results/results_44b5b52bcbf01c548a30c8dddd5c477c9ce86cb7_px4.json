{"sha":"44b5b52bcbf01c548a30c8dddd5c477c9ce86cb7","node_id":"MDY6Q29tbWl0NTI5ODc5MDo0NGI1YjUyYmNiZjAxYzU0OGEzMGM4ZGRkZDVjNDc3YzljZTg2Y2I3","commit":{"author":{"name":"David Sidrane","email":"david_s5@nscdg.com","date":"2016-09-22T21:08:25Z"},"committer":{"name":"Lorenz Meier","email":"lorenz@px4.io","date":"2016-10-17T22:23:58Z"},"message":"Add suport for Memory Constrained systems","tree":{"sha":"34eef8d99d3fef42adc8586d7fae224825482d54","url":"https://api.github.com/repos/PX4/PX4-Autopilot/git/trees/34eef8d99d3fef42adc8586d7fae224825482d54"},"url":"https://api.github.com/repos/PX4/PX4-Autopilot/git/commits/44b5b52bcbf01c548a30c8dddd5c477c9ce86cb7","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/44b5b52bcbf01c548a30c8dddd5c477c9ce86cb7","html_url":"https://github.com/PX4/PX4-Autopilot/commit/44b5b52bcbf01c548a30c8dddd5c477c9ce86cb7","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/44b5b52bcbf01c548a30c8dddd5c477c9ce86cb7/comments","author":null,"committer":{"login":"LorenzMeier","id":1208119,"node_id":"MDQ6VXNlcjEyMDgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/1208119?v=4","gravatar_id":"","url":"https://api.github.com/users/LorenzMeier","html_url":"https://github.com/LorenzMeier","followers_url":"https://api.github.com/users/LorenzMeier/followers","following_url":"https://api.github.com/users/LorenzMeier/following{/other_user}","gists_url":"https://api.github.com/users/LorenzMeier/gists{/gist_id}","starred_url":"https://api.github.com/users/LorenzMeier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LorenzMeier/subscriptions","organizations_url":"https://api.github.com/users/LorenzMeier/orgs","repos_url":"https://api.github.com/users/LorenzMeier/repos","events_url":"https://api.github.com/users/LorenzMeier/events{/privacy}","received_events_url":"https://api.github.com/users/LorenzMeier/received_events","type":"User","site_admin":false},"parents":[{"sha":"979381fcfae726f9643f220ffd947ae0642f58c0","url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/979381fcfae726f9643f220ffd947ae0642f58c0","html_url":"https://github.com/PX4/PX4-Autopilot/commit/979381fcfae726f9643f220ffd947ae0642f58c0"}],"stats":{"total":22,"additions":20,"deletions":2},"files":[{"sha":"34d48f8979f561e52e613cbae721455ce19439c2","filename":"src/modules/dataman/dataman.h","status":"modified","additions":15,"deletions":1,"changes":16,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/44b5b52bcbf01c548a30c8dddd5c477c9ce86cb7/src%2Fmodules%2Fdataman%2Fdataman.h","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/44b5b52bcbf01c548a30c8dddd5c477c9ce86cb7/src%2Fmodules%2Fdataman%2Fdataman.h","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/src%2Fmodules%2Fdataman%2Fdataman.h?ref=44b5b52bcbf01c548a30c8dddd5c477c9ce86cb7","patch":"@@ -60,6 +60,20 @@ typedef enum {\n \n #define DM_KEY_WAYPOINTS_OFFBOARD(_id) (_id == 0 ? DM_KEY_WAYPOINTS_OFFBOARD_0 : DM_KEY_WAYPOINTS_OFFBOARD_1)\n \n+#if defined(MEMORY_CONSTRAINED_SYSTEM)\n+enum {\n+\tDM_KEY_SAFE_POINTS_MAX = 8,\n+#ifdef __cplusplus\n+\tDM_KEY_FENCE_POINTS_MAX = fence_s::GEOFENCE_MAX_VERTICES,\n+#else\n+\tDM_KEY_FENCE_POINTS_MAX = GEOFENCE_MAX_VERTICES,\n+#endif\n+\tDM_KEY_WAYPOINTS_OFFBOARD_0_MAX = NUM_MISSIONS_SUPPORTED,\n+\tDM_KEY_WAYPOINTS_OFFBOARD_1_MAX = NUM_MISSIONS_SUPPORTED,\n+\tDM_KEY_WAYPOINTS_ONBOARD_MAX = (NUM_MISSIONS_SUPPORTED / 10),\n+\tDM_KEY_MISSION_STATE_MAX = 1\n+};\n+#else\n /** The maximum number of instances for each item type */\n enum {\n \tDM_KEY_SAFE_POINTS_MAX = 8,\n@@ -73,7 +87,7 @@ enum {\n \tDM_KEY_WAYPOINTS_ONBOARD_MAX = NUM_MISSIONS_SUPPORTED,\n \tDM_KEY_MISSION_STATE_MAX = 1\n };\n-\n+#endif\n /** Data persistence levels */\n typedef enum {\n \tDM_PERSIST_POWER_ON_RESET = 0,\t/* Data survives all resets */"},{"sha":"80ff6e49c8e8dccc4559e400de835d5290f7d3ed","filename":"src/modules/navigator/navigation.h","status":"modified","additions":5,"deletions":1,"changes":6,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/44b5b52bcbf01c548a30c8dddd5c477c9ce86cb7/src%2Fmodules%2Fnavigator%2Fnavigation.h","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/44b5b52bcbf01c548a30c8dddd5c477c9ce86cb7/src%2Fmodules%2Fnavigator%2Fnavigation.h","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/src%2Fmodules%2Fnavigator%2Fnavigation.h?ref=44b5b52bcbf01c548a30c8dddd5c477c9ce86cb7","patch":"@@ -45,7 +45,11 @@\n #include <stdint.h>\n #include <stdbool.h>\n \n-#define NUM_MISSIONS_SUPPORTED 256\n+#if defined(MEMORY_CONSTRAINED_SYSTEM)\n+#  define NUM_MISSIONS_SUPPORTED 50\n+#else\n+#  define NUM_MISSIONS_SUPPORTED 256\n+#endif\n \n #define NAV_EPSILON_POSITION\t0.001f\t/**< Anything smaller than this is considered zero */\n "}]}