{"sha":"7a8002fdabacffbd2db9388e2df2d99f63b61871","node_id":"MDY6Q29tbWl0NTI5ODc5MDo3YTgwMDJmZGFiYWNmZmJkMmRiOTM4OGUyZGYyZDk5ZjYzYjYxODcx","commit":{"author":{"name":"Claudio Micheli","email":"claudio@auterion.com","date":"2019-03-13T10:32:02Z"},"committer":{"name":"Julian Oes","email":"julian@oes.ch","date":"2019-03-27T08:56:32Z"},"message":"Commander: increased hardcoded timeout time for avoidance to start.\n\nSigned-off-by: Claudio Micheli <claudio@auterion.com>","tree":{"sha":"f191046785b8697ad7bf97e639f17a38c6dc60d5","url":"https://api.github.com/repos/PX4/PX4-Autopilot/git/trees/f191046785b8697ad7bf97e639f17a38c6dc60d5"},"url":"https://api.github.com/repos/PX4/PX4-Autopilot/git/commits/7a8002fdabacffbd2db9388e2df2d99f63b61871","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/7a8002fdabacffbd2db9388e2df2d99f63b61871","html_url":"https://github.com/PX4/PX4-Autopilot/commit/7a8002fdabacffbd2db9388e2df2d99f63b61871","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/7a8002fdabacffbd2db9388e2df2d99f63b61871/comments","author":{"login":"cmic0","id":7490213,"node_id":"MDQ6VXNlcjc0OTAyMTM=","avatar_url":"https://avatars.githubusercontent.com/u/7490213?v=4","gravatar_id":"","url":"https://api.github.com/users/cmic0","html_url":"https://github.com/cmic0","followers_url":"https://api.github.com/users/cmic0/followers","following_url":"https://api.github.com/users/cmic0/following{/other_user}","gists_url":"https://api.github.com/users/cmic0/gists{/gist_id}","starred_url":"https://api.github.com/users/cmic0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cmic0/subscriptions","organizations_url":"https://api.github.com/users/cmic0/orgs","repos_url":"https://api.github.com/users/cmic0/repos","events_url":"https://api.github.com/users/cmic0/events{/privacy}","received_events_url":"https://api.github.com/users/cmic0/received_events","type":"User","site_admin":false},"committer":{"login":"julianoes","id":1419688,"node_id":"MDQ6VXNlcjE0MTk2ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1419688?v=4","gravatar_id":"","url":"https://api.github.com/users/julianoes","html_url":"https://github.com/julianoes","followers_url":"https://api.github.com/users/julianoes/followers","following_url":"https://api.github.com/users/julianoes/following{/other_user}","gists_url":"https://api.github.com/users/julianoes/gists{/gist_id}","starred_url":"https://api.github.com/users/julianoes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julianoes/subscriptions","organizations_url":"https://api.github.com/users/julianoes/orgs","repos_url":"https://api.github.com/users/julianoes/repos","events_url":"https://api.github.com/users/julianoes/events{/privacy}","received_events_url":"https://api.github.com/users/julianoes/received_events","type":"User","site_admin":false},"parents":[{"sha":"f4a4dab65a01456efc93fecc2718e18e067b058c","url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/f4a4dab65a01456efc93fecc2718e18e067b058c","html_url":"https://github.com/PX4/PX4-Autopilot/commit/f4a4dab65a01456efc93fecc2718e18e067b058c"}],"stats":{"total":4,"additions":2,"deletions":2},"files":[{"sha":"23c899a9f0e3d3f203a0891600c316bd017ec691","filename":"src/modules/commander/Commander.cpp","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/7a8002fdabacffbd2db9388e2df2d99f63b61871/src%2Fmodules%2Fcommander%2FCommander.cpp","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/7a8002fdabacffbd2db9388e2df2d99f63b61871/src%2Fmodules%2Fcommander%2FCommander.cpp","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/src%2Fmodules%2Fcommander%2FCommander.cpp?ref=7a8002fdabacffbd2db9388e2df2d99f63b61871","patch":"@@ -3964,14 +3964,14 @@ void Commander::data_link_check(bool &status_changed)\n \tif (status_flags.avoidance_system_required && !_onboard_controller_lost) {\n \n \t\t//if avoidance never started\n-\t\tif (_datalink_last_heartbeat_avoidance_system == 0 && hrt_elapsed_time(&_avoidance_system_not_started) > 5_s\n+\t\tif (_datalink_last_heartbeat_avoidance_system == 0 && hrt_elapsed_time(&_avoidance_system_not_started) > 10_s\n \t\t    && avoidance_waiting_count < AVOIDANCE_MAX_TRIALS) {\n \t\t\t_avoidance_system_not_started = hrt_absolute_time();\n \t\t\tmavlink_log_info(&mavlink_log_pub, \"Waiting for avoidance system to start\");\n \t\t\tavoidance_waiting_count++;\n \n \t\t} else if (avoidance_waiting_count == AVOIDANCE_MAX_TRIALS) {\n-\t\t\tmavlink_log_critical(&mavlink_log_pub, \"Avoidance system stuck. Try reboot vehicle.\");\n+\t\t\tmavlink_log_critical(&mavlink_log_pub, \"Avoidance system not responding. Try reboot vehicle.\");\n \t\t\tavoidance_waiting_count++;\n \t\t}\n "}]}