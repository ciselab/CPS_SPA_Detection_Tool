{"sha":"dbf754eab1833a5f83bc3d99f9644bbe49d77667","node_id":"MDY6Q29tbWl0NTI5ODc5MDpkYmY3NTRlYWIxODMzYTVmODNiYzNkOTlmOTY0NGJiZTQ5ZDc3NjY3","commit":{"author":{"name":"Lorenz Meier","email":"lorenz@px4.io","date":"2017-05-01T16:24:42Z"},"committer":{"name":"Lorenz Meier","email":"lorenz@px4.io","date":"2017-05-02T05:42:14Z"},"message":"ROMFS: If UAVCAN is enabled, reduce log buffer size\n\nThis is necessary to make the space for UAVCAN in memory and doing it this way avoids negatively impacting users who do not use UAVCAN.","tree":{"sha":"cf6e52a035ed442d4dd1ac62672ef399d1ad4a91","url":"https://api.github.com/repos/PX4/PX4-Autopilot/git/trees/cf6e52a035ed442d4dd1ac62672ef399d1ad4a91"},"url":"https://api.github.com/repos/PX4/PX4-Autopilot/git/commits/dbf754eab1833a5f83bc3d99f9644bbe49d77667","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/dbf754eab1833a5f83bc3d99f9644bbe49d77667","html_url":"https://github.com/PX4/PX4-Autopilot/commit/dbf754eab1833a5f83bc3d99f9644bbe49d77667","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/dbf754eab1833a5f83bc3d99f9644bbe49d77667/comments","author":{"login":"LorenzMeier","id":1208119,"node_id":"MDQ6VXNlcjEyMDgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/1208119?v=4","gravatar_id":"","url":"https://api.github.com/users/LorenzMeier","html_url":"https://github.com/LorenzMeier","followers_url":"https://api.github.com/users/LorenzMeier/followers","following_url":"https://api.github.com/users/LorenzMeier/following{/other_user}","gists_url":"https://api.github.com/users/LorenzMeier/gists{/gist_id}","starred_url":"https://api.github.com/users/LorenzMeier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LorenzMeier/subscriptions","organizations_url":"https://api.github.com/users/LorenzMeier/orgs","repos_url":"https://api.github.com/users/LorenzMeier/repos","events_url":"https://api.github.com/users/LorenzMeier/events{/privacy}","received_events_url":"https://api.github.com/users/LorenzMeier/received_events","type":"User","site_admin":false},"committer":{"login":"LorenzMeier","id":1208119,"node_id":"MDQ6VXNlcjEyMDgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/1208119?v=4","gravatar_id":"","url":"https://api.github.com/users/LorenzMeier","html_url":"https://github.com/LorenzMeier","followers_url":"https://api.github.com/users/LorenzMeier/followers","following_url":"https://api.github.com/users/LorenzMeier/following{/other_user}","gists_url":"https://api.github.com/users/LorenzMeier/gists{/gist_id}","starred_url":"https://api.github.com/users/LorenzMeier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LorenzMeier/subscriptions","organizations_url":"https://api.github.com/users/LorenzMeier/orgs","repos_url":"https://api.github.com/users/LorenzMeier/repos","events_url":"https://api.github.com/users/LorenzMeier/events{/privacy}","received_events_url":"https://api.github.com/users/LorenzMeier/received_events","type":"User","site_admin":false},"parents":[{"sha":"3ecb07f5db426b575d3b8f0beec97d9fba9d4e3c","url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/3ecb07f5db426b575d3b8f0beec97d9fba9d4e3c","html_url":"https://github.com/PX4/PX4-Autopilot/commit/3ecb07f5db426b575d3b8f0beec97d9fba9d4e3c"}],"stats":{"total":5,"additions":4,"deletions":1},"files":[{"sha":"fb72461a2b8fc9b087cc3e595206dbc1812117be","filename":"ROMFS/px4fmu_common/init.d/rcS","status":"modified","additions":4,"deletions":1,"changes":5,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/dbf754eab1833a5f83bc3d99f9644bbe49d77667/ROMFS%2Fpx4fmu_common%2Finit.d%2FrcS","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/dbf754eab1833a5f83bc3d99f9644bbe49d77667/ROMFS%2Fpx4fmu_common%2Finit.d%2FrcS","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/ROMFS%2Fpx4fmu_common%2Finit.d%2FrcS?ref=dbf754eab1833a5f83bc3d99f9644bbe49d77667","patch":"@@ -196,6 +196,7 @@ then\n \tset MAV_TYPE none\n \tset FAILSAFE none\n \tset USE_IO yes\n+\tset LOGGER_BUF 16\n \n \t#\n \t# Set USE_IO flag\n@@ -738,6 +739,7 @@ then\n \tthen\n \t\tif uavcan start\n \t\tthen\n+\t\t\tset LOGGER_BUF 7\n \t\t\tuavcan start fw\n \t\telse\n \t\t\ttone_alarm ${TUNE_ERR}\n@@ -875,9 +877,10 @@ then\n \t\t\tthen\n \t\t\t\tset LOGGER_ARGS \"-m mavlink\"\n \t\t\tfi\n-\t\t\tif logger start -b 16 -t ${LOGGER_ARGS}\n+\t\t\tif logger start -b ${LOGGER_BUF} -t ${LOGGER_ARGS}\n \t\t\tthen\n \t\t\tfi\n+\t\t\tunset LOGGER_BUF\n \t\t\tunset LOGGER_ARGS\n \t\tfi\n \tfi"}]}