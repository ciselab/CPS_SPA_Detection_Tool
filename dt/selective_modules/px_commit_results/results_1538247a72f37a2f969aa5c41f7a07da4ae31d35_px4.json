{"sha":"1538247a72f37a2f969aa5c41f7a07da4ae31d35","node_id":"MDY6Q29tbWl0NTI5ODc5MDoxNTM4MjQ3YTcyZjM3YTJmOTY5YWE1YzQxZjdhMDdkYTRhZTMxZDM1","commit":{"author":{"name":"Lorenz Meier","email":"lm@inf.ethz.ch","date":"2012-09-07T10:49:31Z"},"committer":{"name":"Lorenz Meier","email":"lm@inf.ethz.ch","date":"2012-09-07T10:49:31Z"},"message":"Sensor sending rate fixes","tree":{"sha":"53a53c88e2f1d7150af9f6670eac326e37bb98c0","url":"https://api.github.com/repos/PX4/PX4-Autopilot/git/trees/53a53c88e2f1d7150af9f6670eac326e37bb98c0"},"url":"https://api.github.com/repos/PX4/PX4-Autopilot/git/commits/1538247a72f37a2f969aa5c41f7a07da4ae31d35","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/1538247a72f37a2f969aa5c41f7a07da4ae31d35","html_url":"https://github.com/PX4/PX4-Autopilot/commit/1538247a72f37a2f969aa5c41f7a07da4ae31d35","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/1538247a72f37a2f969aa5c41f7a07da4ae31d35/comments","author":{"login":"LorenzMeier","id":1208119,"node_id":"MDQ6VXNlcjEyMDgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/1208119?v=4","gravatar_id":"","url":"https://api.github.com/users/LorenzMeier","html_url":"https://github.com/LorenzMeier","followers_url":"https://api.github.com/users/LorenzMeier/followers","following_url":"https://api.github.com/users/LorenzMeier/following{/other_user}","gists_url":"https://api.github.com/users/LorenzMeier/gists{/gist_id}","starred_url":"https://api.github.com/users/LorenzMeier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LorenzMeier/subscriptions","organizations_url":"https://api.github.com/users/LorenzMeier/orgs","repos_url":"https://api.github.com/users/LorenzMeier/repos","events_url":"https://api.github.com/users/LorenzMeier/events{/privacy}","received_events_url":"https://api.github.com/users/LorenzMeier/received_events","type":"User","site_admin":false},"committer":{"login":"LorenzMeier","id":1208119,"node_id":"MDQ6VXNlcjEyMDgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/1208119?v=4","gravatar_id":"","url":"https://api.github.com/users/LorenzMeier","html_url":"https://github.com/LorenzMeier","followers_url":"https://api.github.com/users/LorenzMeier/followers","following_url":"https://api.github.com/users/LorenzMeier/following{/other_user}","gists_url":"https://api.github.com/users/LorenzMeier/gists{/gist_id}","starred_url":"https://api.github.com/users/LorenzMeier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LorenzMeier/subscriptions","organizations_url":"https://api.github.com/users/LorenzMeier/orgs","repos_url":"https://api.github.com/users/LorenzMeier/repos","events_url":"https://api.github.com/users/LorenzMeier/events{/privacy}","received_events_url":"https://api.github.com/users/LorenzMeier/received_events","type":"User","site_admin":false},"parents":[{"sha":"5066ce1e9132f94bfcabaee3e16c3d9aac4801e8","url":"https://api.github.com/repos/PX4/PX4-Autopilot/commits/5066ce1e9132f94bfcabaee3e16c3d9aac4801e8","html_url":"https://github.com/PX4/PX4-Autopilot/commit/5066ce1e9132f94bfcabaee3e16c3d9aac4801e8"}],"stats":{"total":20,"additions":15,"deletions":5},"files":[{"sha":"7289bd7a8ea514092d0d43abb3de9c254e0cb1f9","filename":"apps/mavlink/mavlink.c","status":"modified","additions":5,"deletions":5,"changes":10,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/1538247a72f37a2f969aa5c41f7a07da4ae31d35/apps%2Fmavlink%2Fmavlink.c","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/1538247a72f37a2f969aa5c41f7a07da4ae31d35/apps%2Fmavlink%2Fmavlink.c","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/apps%2Fmavlink%2Fmavlink.c?ref=1538247a72f37a2f969aa5c41f7a07da4ae31d35","patch":"@@ -1550,8 +1550,8 @@ int mavlink_thread_main(int argc, char *argv[])\n \n \t/* all subscriptions are now active, set up initial guess about rate limits */\n \tif (baudrate >= 921600) {\n-\t\t/* 500 Hz / 2 ms */\n-\t\tset_mavlink_interval_limit(&mavlink_subs, MAVLINK_MSG_ID_HIGHRES_IMU, 2);\n+\t\t/* 200 Hz / 5 ms */\n+\t\tset_mavlink_interval_limit(&mavlink_subs, MAVLINK_MSG_ID_HIGHRES_IMU, 5);\n \t\t/* 200 Hz / 5 ms */\n \t\tset_mavlink_interval_limit(&mavlink_subs, MAVLINK_MSG_ID_SERVO_OUTPUT_RAW, 5);\n \t\tset_mavlink_interval_limit(&mavlink_subs, MAVLINK_MSG_ID_NAMED_VALUE_FLOAT, 5);\n@@ -1561,11 +1561,11 @@ int mavlink_thread_main(int argc, char *argv[])\n \t\tset_mavlink_interval_limit(&mavlink_subs, MAVLINK_MSG_ID_MANUAL_CONTROL, 200);\n \t} else if (baudrate >= 460800) {\n \t\t/* 200 Hz / 5 ms */\n-\t\tset_mavlink_interval_limit(&mavlink_subs, MAVLINK_MSG_ID_HIGHRES_IMU, 10);\n-\t\t/* 100 Hz / 10 ms */\n+\t\tset_mavlink_interval_limit(&mavlink_subs, MAVLINK_MSG_ID_HIGHRES_IMU, 5);\n+\t\t/* 50 Hz / 10 ms */\n \t\tset_mavlink_interval_limit(&mavlink_subs, MAVLINK_MSG_ID_SCALED_IMU, 20);\n \t\tset_mavlink_interval_limit(&mavlink_subs, MAVLINK_MSG_ID_ATTITUDE, 20);\n-\t\t/* 20 Hz / 20 ms */\n+\t\t/* 20 Hz / 50 ms */\n \t\tset_mavlink_interval_limit(&mavlink_subs, MAVLINK_MSG_ID_NAMED_VALUE_FLOAT, 50);\n \t\tset_mavlink_interval_limit(&mavlink_subs, MAVLINK_MSG_ID_SERVO_OUTPUT_RAW, 50);\n \t\t/* 2 Hz */"},{"sha":"963c54b8e588cc77b846bea8dfc343e5d07d7b22","filename":"apps/sensors/sensors.cpp","status":"modified","additions":10,"deletions":0,"changes":10,"blob_url":"https://github.com/PX4/PX4-Autopilot/blob/1538247a72f37a2f969aa5c41f7a07da4ae31d35/apps%2Fsensors%2Fsensors.cpp","raw_url":"https://github.com/PX4/PX4-Autopilot/raw/1538247a72f37a2f969aa5c41f7a07da4ae31d35/apps%2Fsensors%2Fsensors.cpp","contents_url":"https://api.github.com/repos/PX4/PX4-Autopilot/contents/apps%2Fsensors%2Fsensors.cpp?ref=1538247a72f37a2f969aa5c41f7a07da4ae31d35","patch":"@@ -696,6 +696,16 @@ Sensors::gyro_poll(struct sensor_combined_s &raw)\n \t\tgyro_report.y = (gyro_report.y_raw - _parameters.gyro_offset[1]) * 0.000266316109f;\n \t\tgyro_report.z = (gyro_report.z_raw - _parameters.gyro_offset[2]) * 0.000266316109f;\n \n+\t\traw.gyro_rad_s[0] = gyro_report.x;\n+\t\traw.gyro_rad_s[1] = gyro_report.y;\n+\t\traw.gyro_rad_s[2] = gyro_report.z;\n+\n+\t\traw.gyro_raw[0] = gyro_report.x_raw;\n+\t\traw.gyro_raw[1] = gyro_report.y_raw;\n+\t\traw.gyro_raw[2] = gyro_report.z_raw;\n+\n+\t\traw.gyro_counter++;\n+\n \t} else {\n \n \t\tbool gyro_updated;"}]}